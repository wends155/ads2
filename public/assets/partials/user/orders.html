<legend>Orders</legend>
<img src="/assets/img/spinner.gif" alt="" ng-show="!spinner">
<div ng-show="!!spinner">
	<button ng-click="reset()">Reset filter</button>
</div>
<table class="table table-hover" ng-show="!!spinner">
	<thead>
		<tr>
			<th>
				Order ID
			</th>
			<th>
				Date
			</th>
			<th>
				Items
			</th>
			<th>
				Total
			</th>
			<th>DP(30%)</th>
			<th><input type="checkbox" ng-model="paid" ng-click="filterPaid()"> Paid</th>
			<th><input type="checkbox" ng-model="claimed" ng-click="filterClaimed()"> Claimed</th>
			<th>Due</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="order in orders | filter: predicate">
			<td>
				{{order.id}}
			</td>
			<td>
				{{order.date * 1000 | date: 'mediumDate'}}
			</td>
			<td>
				<table class="table table-condensed">
					<thead>
						<tr>
							<th>Product</th>
							<th>Price</th>
							<th>Quantity</th>
							<th>Subtotal</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in order.items">
							<td>{{item.product.name}} </td>
							<td>{{item.price | currency:""}} </td>
							<td>{{item.quantity}} </td>
							<td>{{item.subtotal | currency: "Php "}} </td>
						</tr>
						
					</tbody>
				</table>
			</td>
			<td>
				{{order.total | currency: "Php "}}
			</td>
			<td>{{order.total * 0.30 | currency: "Php "}}</td>
			<td><span ng-show="order.date_paid != null">{{order.date_paid *1000 | date: 'mediumDate'}}</span><span ng-show="order.date_paid == null">None</span> </td>
			<td><span ng-show="order.date_paid != null">{{order.date_claimed *1000 | date: 'mediumDate' }}</span><span ng-show="order.date_paid == null">None</span> </td>
			<td>{{order.due }}</td>
		</tr>
	</tbody>

</table>